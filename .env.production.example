# 本番環境用環境変数テンプレート
# 実際の値を設定して .env.production にコピーしてください
# 作成日　25/10/30

# ========================================
# バックエンド設定
# ========================================

# サーバー設定
NODE_ENV=production
PORT=8080
API_URL=https://your-domain.com/api

# ログレベル（本番環境ではINFOまたはERROR）
LOG_LEVEL=INFO

# ========================================
# データベース設定
# ========================================

# PostgreSQL接続URL
# 形式: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://user:secure_password@prod-db.example.com:5432/paypay_db

# DBコネクションプール設定
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_TIMEOUT=30000

# ========================================
# セキュリティ設定
# ========================================

# CORS設定
CORS_ORIGIN=https://your-domain.com

# JWT設定（将来実装）
JWT_SECRET=your-very-secure-secret-key-generate-with-openssl-rand-base64-32
JWT_EXPIRY=24h

# Rate Limiter設定
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ========================================
# 外部サービス連携
# ========================================

# Python分析エンジン
ANALYSIS_SERVICE_URL=http://analysis-service:5000
ANALYSIS_SERVICE_TIMEOUT=30000

# ========================================
# HTTPS/SSL設定
# ========================================

# SSL証明書パス（Docker内での相対パス）
SSL_CERT_PATH=/etc/ssl/certs/cert.pem
SSL_KEY_PATH=/etc/ssl/private/key.pem

# HSTS設定
HSTS_MAX_AGE=31536000

# ========================================
# モニタリング・ロギング
# ========================================

# CloudWatch設定（AWS環境の場合）
AWS_REGION=ap-northeast-1
AWS_LOGS_GROUP=/paypay/backend
AWS_LOGS_STREAM=production

# Datadog設定（オプション）
DATADOG_API_KEY=your-datadog-api-key
DATADOG_SITE=datadoghq.com

# ========================================
# バックアップ・復旧設定
# ========================================

# バックアップ実行時刻（cron形式）
BACKUP_SCHEDULE=0 2 * * *

# バックアップ保持期間（日）
BACKUP_RETENTION_DAYS=30

# ========================================
# メール通知設定（オプション）
# ========================================

# SMTP設定
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
ADMIN_EMAIL=admin@your-domain.com

# ========================================
# 機能フラグ
# ========================================

# 新機能の有効/無効
FEATURE_MFA_ENABLED=false
FEATURE_DARK_MODE=true
FEATURE_EXPORT_CSV=true

# ========================================
# キャッシュ設定
# ========================================

# Redis設定（将来実装）
REDIS_URL=redis://:password@prod-redis.example.com:6379/0
REDIS_DB=0
CACHE_TTL_STOCKS=300
CACHE_TTL_ANALYSIS=600
